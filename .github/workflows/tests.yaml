name: Tests
on:
  - push
jobs:
  tests-backend:
    name: tests:backend
    runs-on: ubuntu-20.04
    steps:
      - uses: actions/checkout@v2
      - name: golangci-lint
        uses: golangci/golangci-lint-action@v2
      - name: Check backend build
        run: |
          cd backend
          go mod download
          go generate ./...
          go build -v ./...
      - name: Unit Tests
        run: |
          cd backend
          ./scripts/run-test-units.sh
      - name: E2E Tests
        run: |
        cd backend
        ./scripts/run-test-e2e.sh


